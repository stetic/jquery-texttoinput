(function(a){a.fn.textToInput=function(b){b=b||{};return this.each(function(){var f=a.extend({},a.fn.textToInput.defaults,{},b),e=(f.contenteditable===true)&&"contentEditable" in document.documentElement;if(e){a(this).attr("contentEditable","true")}var g=a(this),d=function(j){if(e){c(a(this));return}j.preventDefault();j.stopPropagation();var l=a(this).text(),i=a(this).html(),h='<input value="'+l+'" class="'+f.css_class+'">',k=a(this).html(h).find("input").first();a(this).data("default_html",i).unbind("click.texttoinput");c(k);k.bind("blur.texttoinput",function(){a(this).unbind("blur.texttoinput");a(this).parent().html(a(this).parent().data("default_html")).bind("click.texttoinput",d)})},c=function(k){if(f.select_text!==true){return k}var l=document,h=window,i,j;k.focus();if(!e){k.select()}else{if(l.body.createTextRange){var i=l.body.createTextRange();i.moveToElementText(k[0]);i.select()}else{if(h.getSelection){var j=h.getSelection();var i=l.createRange();i.selectNodeContents(k[0]);j.removeAllRanges();
j.addRange(i)}}}return k};a(this).bind("click.texttoinput",d)})};a.fn.textToInput.defaults={select_text:true,css_class:"",contenteditable:true};a(function(){a(".texttoinput").textToInput()})})(jQuery);